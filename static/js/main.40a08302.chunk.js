(this.webpackJsonpone_code_weekend_8may=this.webpackJsonpone_code_weekend_8may||[]).push([[0],{73:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(18),o=n.n(r),s=(n(73),n(131)),i=n(37),l=n.n(i),u=n(43),d=n(23),j=n(65),b=n(47),O="GET_MEMBERS_REQUEST",f="GET_MEMBERS_SUCCESS",h={items:[]},g=Object(d.b)({members:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(b.a)(Object(b.a)({},e),{},{items:t.payload.items});default:return e}}}),x=n(21),p=n.n(x),m=n(64),v=n(24),w=function(){return l.a.get("/adminui-problem/members.json",{})},S=p.a.mark(y),C=p.a.mark(k);function y(){var e;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(v.b)(w);case 3:return e=t.sent,t.next=6,Object(v.d)((n=e.data,{type:f,payload:{items:n}}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}var n}),S,null,[[0,8]])}function k(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.e)(O,y);case 2:case"end":return e.stop()}}),C)}var E=[Object(v.c)(k)],R=p.a.mark(M);function M(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.a)(Object(m.a)(E));case 2:case"end":return e.stop()}}),R)}var P=Object(j.a)(),_=Object(d.d)(g,Object(d.a)(P));P.run(M);var F=_,I=n(38),T=n(15),L=n(133),z=n(3),B=function(e){var t=e.setFilter,n=e.placeholder,a=Object(c.useState)(""),r=Object(T.a)(a,2),o=r[0],s=r[1];return Object(z.jsx)(L.a,{onChange:function(e){s(e.target.value),t(e.target.value)},placeholder:n,value:o,style:{width:"100%"}})},N=n(125),A=n(129),D=n(128),G=n(126),U=n(127),q=n(132),J=n(42),Q=n.n(J),V=n(63),W=n.n(V),H=function(e){var t=e.columns,n=e.data,a=e.pageIndex,r=e.loading,o=e.pageCount,s=e.deleteRow,i=e.editRow,l=e.selectRow,u=e.selectAllRows,d=Object(c.useState)(!1),j=Object(T.a)(d,2),b=j[0],O=j[1],f=function(){u(!b),O(!b)};return Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)(N.a,{children:[Object(z.jsx)(G.a,{children:Object(z.jsx)(U.a,{children:t.map((function(e){return Object(z.jsx)(D.a,{children:"select"===e.accessor?Object(z.jsx)(q.a,{onChange:f}):e.header},e.accessor)}))})}),Object(z.jsxs)(A.a,{children:[n.map((function(e,t){return Object(z.jsxs)(U.a,{children:[Object(z.jsx)(D.a,{children:Object(z.jsx)(q.a,{checked:e.selected,onChange:function(){return l(e.id)}})}),Object(z.jsx)(D.a,{children:e.id}),Object(z.jsx)(D.a,{children:e.name}),Object(z.jsx)(D.a,{children:e.email}),Object(z.jsx)(D.a,{children:e.role}),Object(z.jsx)(D.a,{children:Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(W.a,{style:{cursor:"pointer"},onClick:function(){return i(e.id)}}),Object(z.jsx)(Q.a,{color:"error",style:{marginLeft:10,cursor:"pointer"},onClick:function(){return s(e.id)}})]})})]},e.id)})),Object(z.jsx)(U.a,{children:r?Object(z.jsx)(D.a,{colSpan:"10000",children:"Loading..."}):Object(z.jsxs)(D.a,{colSpan:"10000",children:["Showing ",a+1," of ~",o," results"]})})]})]})})},K=function(e){var t=e.pageSize,n=e.nextPage,c=e.gotoPage,a=e.previousPage,r=e.pageCount,o=e.pageIndex,s=e.setPageSize,i=o>0,l=o<r-1;return Object(z.jsxs)("div",{className:"pagination",children:[Object(z.jsx)("button",{onClick:function(){return c(0)},disabled:!i,children:"<<"})," ",Object(z.jsx)("button",{onClick:function(){return a()},disabled:!i,children:"<"})," ",Object(z.jsx)("button",{onClick:function(){return n()},disabled:!l,children:">"})," ",Object(z.jsx)("button",{onClick:function(){return c(r-1)},disabled:!l,children:">>"})," ",Object(z.jsxs)("span",{children:["Page"," ",Object(z.jsxs)("strong",{children:[o+1," of ",r]})," "]}),Object(z.jsxs)("span",{children:["| Go to page:"," ",Object(z.jsx)("input",{type:"number",defaultValue:o+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;c(t)},style:{width:"100px"}})]})," ",Object(z.jsx)("select",{value:t,onChange:function(e){s(Number(e.target.value))},children:[10,20,30,40,50].map((function(e){return Object(z.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]})},X=n(130),Y=Object(u.b)((function(e){return{members:e.members}}),{getMembersRequest:function(){return{type:O}}})((function(e){var t=e.getMembersRequest,n=e.members,a=Object(c.useMemo)((function(){return[{header:"Select",accessor:"select"},{header:"Id",accessor:"id"},{header:"Name",accessor:"name"},{header:"Email",accessor:"email"},{header:"Role",accessor:"role"},{header:"Action",accessor:"action"}]}),[]),r=Object(c.useState)([]),o=Object(T.a)(r,2),s=o[0],i=o[1],l=Object(c.useState)(!1),u=Object(T.a)(l,2),d=u[0],j=u[1],b=Object(c.useState)(0),O=Object(T.a)(b,2),f=O[0],h=O[1],g=Object(c.useState)(10),x=Object(T.a)(g,2),p=x[0],m=x[1],v=Object(c.useState)(0),w=Object(T.a)(v,2),S=w[0],C=w[1],y=Object(c.useState)(""),k=Object(T.a)(y,2),E=k[0],R=k[1],M=Object(c.useState)([]),P=Object(T.a)(M,2),_=P[0],F=P[1],L=Object(c.useState)(null),N=Object(T.a)(L,2),A=N[0],D=N[1];Object(c.useEffect)((function(){console.log("fetchin");var e=Math.ceil(_.length/p);console.log("pc 1",e),h(e),U()}),[E,S,p,f,_,A]);var G=function(){window.confirm("delete row?")&&(F(_.filter((function(e){return!e.selected}))),D(null))},U=function(){j(!0),console.log(E||"none","|",S,"|",f,"|",p,"|",f);var e=_.filter((function(e){return""===E||""!==E&&(e.name.indexOf(E)>=0||e.email.indexOf(E)>=0||e.role.indexOf(E)>=0||e.id.indexOf(E)>=0)}));console.log("tableData.length",e.length);var t=Math.ceil(e.length/p);console.log("pc 2",t),h(t),e=e.filter((function(e,t){return null!==A&&(e.selected=A),t>=p*S&&t<p*S+p})),i(e),j(!1)};Object(c.useEffect)((function(){var e=n.items.map((function(e){return e.selected=!1,e}));console.log("initial server data"),F(e);var t=Math.ceil(e.length/p);h(t)}),[n]),Object(c.useEffect)((function(){t()}),[t]);return Object(z.jsxs)("div",{style:Object(I.a)({margin:"auto",maxWidth:1e3},"margin",20),children:[Object(z.jsx)("h2",{style:{marginTop:0},children:"Members"}),d&&"Loading...",Object(z.jsx)(B,{setFilter:function(e){R(e.trim())},placeholder:"Search ".concat(n.items.length," records...")}),Object(z.jsx)(H,{columns:a,selectAllRows:function(e){_.forEach((function(t,n){n>=p*S&&n<p*S+p&&(t.selected=e)}))},data:s,loading:d,pageCount:f,pageIndex:S,deleteRow:function(e){if(window.confirm("delete row?")){var t=_.filter((function(t){return t.id!==e}));console.log(t.length),F(t)}D(null)},deleteSelected:G,selectRow:function(e){F(_.map((function(t){return t.id===e&&(t.selected=!t.selected),t}))),D(null)},editRow:function(e){alert("Modal with data to be edited with id ".concat(e))}}),Object(z.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[Object(z.jsx)(X.a,{color:"secondary",variant:"contained",startIcon:Object(z.jsx)(Q.a,{}),onClick:G,children:"Delete Selected"}),Object(z.jsx)(K,{pageSize:p,nextPage:function(){C(S+1)},gotoPage:function(e){C(e)},previousPage:function(){C(S-1)},pageCount:f,pageIndex:S,setPageSize:m})]})]})}));l.a.defaults.baseURL="https://geektrust.s3-ap-southeast-1.amazonaws.com";var Z=function(){return Object(z.jsx)(u.a,{store:F,children:Object(z.jsxs)("div",{children:[Object(z.jsx)(s.a,{}),Object(z.jsx)(Y,{})]})})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,134)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(z.jsx)(a.a.StrictMode,{children:Object(z.jsx)(Z,{})}),document.getElementById("root")),$()}},[[98,1,2]]]);
//# sourceMappingURL=main.40a08302.chunk.js.map
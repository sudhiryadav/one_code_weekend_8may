(this.webpackJsonpone_code_weekend_8may=this.webpackJsonpone_code_weekend_8may||[]).push([[0],{73:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(18),o=n.n(r),i=(n(73),n(131)),s=n(37),l=n.n(s),u=n(43),d=n(23),j=n(65),b=n(47),h="GET_MEMBERS_REQUEST",O="GET_MEMBERS_SUCCESS",f={items:[]},g=Object(d.b)({members:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(b.a)(Object(b.a)({},e),{},{items:t.payload.items});default:return e}}}),x=n(21),p=n.n(x),m=n(64),v=n(24),w=function(){return l.a.get("/adminui-problem/members.json",{})},S=p.a.mark(y),C=p.a.mark(k);function y(){var e;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(v.b)(w);case 3:return e=t.sent,t.next=6,Object(v.d)((n=e.data,{type:O,payload:{items:n}}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}var n}),S,null,[[0,8]])}function k(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.e)(h,y);case 2:case"end":return e.stop()}}),C)}var E=[Object(v.c)(k)],M=p.a.mark(R);function R(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.a)(Object(m.a)(E));case 2:case"end":return e.stop()}}),M)}var P=Object(j.a)(),_=Object(d.d)(g,Object(d.a)(P));P.run(R);var F=_,I=n(38),T=n(16),L=n(133),z=n(3),B=function(e){var t=e.setFilter,n=e.placeholder,a=Object(c.useState)(""),r=Object(T.a)(a,2),o=r[0],i=r[1];return Object(z.jsx)(L.a,{onChange:function(e){i(e.target.value),t(e.target.value)},placeholder:n,value:o,style:{width:"100%"}})},N=n(125),D=n(129),G=n(128),U=n(126),q=n(127),J=n(132),A=n(42),Q=n.n(A),V=n(63),W=n.n(V),H=function(e){var t=e.columns,n=e.data,c=e.pageIndex,a=e.loading,r=e.pageCount,o=e.deleteRow,i=e.editRow,s=e.selectRow;return Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)(N.a,{children:[Object(z.jsx)(U.a,{children:Object(z.jsx)(q.a,{children:t.map((function(e){return Object(z.jsx)(G.a,{children:e.header},e.accessor)}))})}),Object(z.jsxs)(D.a,{children:[n.map((function(e,t){return Object(z.jsxs)(q.a,{children:[Object(z.jsx)(G.a,{children:Object(z.jsx)(J.a,{checked:e.checked,onChange:function(){return s(e.id)}})}),Object(z.jsx)(G.a,{children:e.id}),Object(z.jsx)(G.a,{children:e.name}),Object(z.jsx)(G.a,{children:e.email}),Object(z.jsx)(G.a,{children:e.role}),Object(z.jsx)(G.a,{children:Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(W.a,{style:{cursor:"pointer"},onClick:function(){return i(e.id)}}),Object(z.jsx)(Q.a,{color:"error",style:{marginLeft:10,cursor:"pointer"},onClick:function(){return o(e.id)}})]})})]},e.id)})),Object(z.jsx)(q.a,{children:a?Object(z.jsx)(G.a,{colSpan:"10000",children:"Loading..."}):Object(z.jsxs)(G.a,{colSpan:"10000",children:["Showing ",c+1," of ~",r," results"]})})]})]})})},K=function(e){var t=e.pageSize,n=e.nextPage,c=e.gotoPage,a=e.previousPage,r=e.pageCount,o=e.pageIndex,i=e.setPageSize,s=o>0,l=o<r-1;return Object(z.jsxs)("div",{className:"pagination",children:[Object(z.jsx)("button",{onClick:function(){return c(0)},disabled:!s,children:"<<"})," ",Object(z.jsx)("button",{onClick:function(){return a()},disabled:!s,children:"<"})," ",Object(z.jsx)("button",{onClick:function(){return n()},disabled:!l,children:">"})," ",Object(z.jsx)("button",{onClick:function(){return c(r-1)},disabled:!l,children:">>"})," ",Object(z.jsxs)("span",{children:["Page"," ",Object(z.jsxs)("strong",{children:[o+1," of ",r]})," "]}),Object(z.jsxs)("span",{children:["| Go to page:"," ",Object(z.jsx)("input",{type:"number",defaultValue:o+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;c(t)},style:{width:"100px"}})]})," ",Object(z.jsx)("select",{value:t,onChange:function(e){i(Number(e.target.value))},children:[10,20,30,40,50].map((function(e){return Object(z.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]})},X=n(130),Y=Object(u.b)((function(e){return{members:e.members}}),{getMembersRequest:function(){return{type:h}}})((function(e){var t=e.getMembersRequest,n=e.members,a=Object(c.useMemo)((function(){return[{header:"Select",accessor:"select"},{header:"Id",accessor:"id"},{header:"Name",accessor:"name"},{header:"Email",accessor:"email"},{header:"Role",accessor:"role"},{header:"Action",accessor:"action"}]}),[]),r=Object(c.useState)([]),o=Object(T.a)(r,2),i=o[0],s=o[1],l=Object(c.useState)(!1),u=Object(T.a)(l,2),d=u[0],j=u[1],b=Object(c.useState)(0),h=Object(T.a)(b,2),O=h[0],f=h[1],g=Object(c.useState)(10),x=Object(T.a)(g,2),p=x[0],m=x[1],v=Object(c.useState)(0),w=Object(T.a)(v,2),S=w[0],C=w[1],y=Object(c.useState)(""),k=Object(T.a)(y,2),E=k[0],M=k[1],R=Object(c.useState)([]),P=Object(T.a)(R,2),_=P[0],F=P[1];Object(c.useEffect)((function(){console.log("fetchin");var e=Math.ceil(_.length/p);console.log("pc 1",e),f(e),N()}),[E,S,p,O,_]);var L=function(){if(window.confirm("delete row?"))F(_.filter((function(e){return!e.selected})));else{var e=Object.assign([],i);e.forEach((function(e){return e.selected=!1})),F(e)}},N=function(){j(!0),console.log(E||"none","|",S,"|",O,"|",p,"|",O);var e=_.filter((function(e){return""===E||""!==E&&(e.name.indexOf(E)>=0||e.email.indexOf(E)>=0||e.role.indexOf(E)>=0||e.id.indexOf(E)>=0)}));console.log("tableData.length",e.length);var t=Math.ceil(e.length/p);console.log("pc 2",t),f(t),e=e.filter((function(e,t){return t>=p*S&&t<p*S+p})),s(e),j(!1)};return Object(c.useEffect)((function(){var e=n.items.map((function(e){return e.selected=!1,e}));console.log("initial server data"),F(e);var t=Math.ceil(e.length/p);f(t)}),[n]),Object(c.useEffect)((function(){t()}),[t]),Object(z.jsxs)("div",{style:Object(I.a)({margin:"auto",maxWidth:1e3},"margin",20),children:[Object(z.jsx)("h2",{style:{marginTop:0},children:"Members"}),d&&"Loading...",Object(z.jsx)(B,{setFilter:function(e){M(e.trim())},placeholder:"Search ".concat(n.items.length," records...")}),Object(z.jsx)(H,{columns:a,data:i,loading:d,pageCount:O,pageIndex:S,deleteRow:function(e){if(window.confirm("delete row?")){var t=_.filter((function(t){return t.id!==e}));console.log(t.length),F(t)}},deleteSelected:L,selectRow:function(e){F(_.map((function(t){return t.id===e&&(t.selected=!t.selected),t})))},editRow:function(e){alert("Modal with data to be edited with id ".concat(e))}}),Object(z.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[Object(z.jsx)(X.a,{color:"secondary",variant:"contained",startIcon:Object(z.jsx)(Q.a,{}),onClick:L,children:"Delete Selected"}),Object(z.jsx)(K,{pageSize:p,nextPage:function(){C(S+1)},gotoPage:function(e){C(e)},previousPage:function(){C(S-1)},pageCount:O,pageIndex:S,setPageSize:m})]})]})}));l.a.defaults.baseURL="https://geektrust.s3-ap-southeast-1.amazonaws.com";var Z=function(){return Object(z.jsx)(u.a,{store:F,children:Object(z.jsxs)("div",{children:[Object(z.jsx)(i.a,{}),Object(z.jsx)(Y,{})]})})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,134)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(z.jsx)(a.a.StrictMode,{children:Object(z.jsx)(Z,{})}),document.getElementById("root")),$()}},[[98,1,2]]]);
//# sourceMappingURL=main.9d062a7a.chunk.js.map